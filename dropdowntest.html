<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>í’€ ì„ íƒ ë“œë¡­ë‹¤ìš´ + Drag</title>
<style>
body {
  font-family: "Pretendard", "Apple SD Gothic Neo", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  background:#fff;
  padding:40px;
}

/* ì¹´ë“œ ì „ì²´ */
.dropdown-wrap {
  width: 980px;
  max-width: 100%;
  border:1px solid #e5e8ef;
  border-radius:10px;
  padding:12px 16px;
  background:#ffffff;
  box-sizing:border-box;
}

/* ìƒë‹¨ ì„ íƒ ì˜ì—­ (ì ‘í˜/í¼ì¹¨ í† ê¸€) */
.dropdown-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  cursor:pointer;
  user-select:none;
  font-size:15px;
  color:#111827;
}

/* ì„ íƒëœ í’€ í…ìŠ¤íŠ¸ */
.dropdown-title {
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* í™”ì‚´í‘œ */
.arrow {
  width:20px;
  height:20px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.arrow::before {
  content:"";
  border-style:solid;
  border-width:6px 4px 0 4px;
  border-color:#9ca3af transparent transparent transparent;
  display:block;
  transition:transform .2s ease;
}
.arrow.open::before {
  transform:rotate(180deg);
}

/* ë¦¬ìŠ¤íŠ¸ ì˜ì—­ */
.dropdown-list {
  margin-top:8px;
  border-top:1px solid #edf0f5;
  padding-top:8px;
  display:none;
}
.dropdown-list.open {
  display:block;
}

/* ê°œë³„ ì•„ì´í…œ (ë“œë˜ê·¸ íƒ€ê²Ÿ) */
.list-item {
  position:relative;
  margin:1px 0;
  padding:0 4px;         /* ì–‘ì˜† ì—¬ë°±ë§Œ, radiusëŠ” ì•ˆ ì¤Œ */
  cursor:grab;
}

/* ì‹¤ì œ ë°°ê²½/ë¼ìš´ë“œëŠ” ì•ˆìª½ divì—ë§Œ */
.list-item-inner {
  padding:8px 10px;
  border-radius:6px;   /* ìŠ¤ìƒ·ì²˜ëŸ¼ ë‘¥ê·¼ ìº¡ìŠ ëŠë‚Œ */
  transition:background-color .15s ease;
  font-size:15px;
  color:#111827;
}

/* ë³´ì¡° í…ìŠ¤íŠ¸ ìƒ‰ (ì˜ˆ: "- 100ì¢…ëª©")ì— ì“°ê³  ì‹¶ìœ¼ë©´ spanìœ¼ë¡œ ê°ì‹¸ë©´ ë¨ */
.list-item-inner span.sub {
  color:#6b7280;
}

/* í˜¸ë²„ */
.list-item:hover .list-item-inner {
  background:#f3f8ff;
}

/* ë“œë˜ê·¸ ì¤‘ì¸ ì•„ì´í…œ */
.list-item.dragging .list-item-inner {
  opacity:0.5;
}

/* ì„ íƒëœ ì•„ì´í…œ (ì˜ˆ: 7ë²ˆ ë¼ì¸) */
.list-item.selected .list-item-inner {
  background:#eaf6ff;
}

/* ğŸ”µ ë“œë¡­ ìœ„ì¹˜ í‘œì‹œ â€“ ì™„ì „ ì§ì„  íŒŒë€ ê°€ì´ë“œë¼ì¸ */
.list-item.drop-target::before {
  content:"";
  position:absolute;
  left:0;
  right:0;
  top:0;
  height:2px;
  background:#2563eb;
}

/* í•˜ë‹¨ ìš”ì•½ ì •ë³´ */
.footer {
  display:flex;
  gap:24px;
  margin-top:12px;
  font-size:13px;
  color:#6b7280;
  user-select:none;
}
.footer b {
  font-weight:600;
}
.footer .value {
  color:#2563eb;
  font-weight:600;
  margin-left:4px;
}
</style>
</head>
<body>

<div class="dropdown-wrap">

  <!-- ìƒë‹¨ ì„ íƒ ì˜ì—­ -->
  <div class="dropdown-header" id="toggle">
    <div class="dropdown-title" id="selectedText">
      1. ê¸°ë³¸ ì¢…ëª© í’€ - 0ì¢…ëª©
    </div>
    <div class="arrow" id="arrow"></div>
  </div>

  <!-- í¼ì³ì§€ëŠ” ë¦¬ìŠ¤íŠ¸ -->
  <div class="dropdown-list" id="list">

    <div class="list-item" draggable="true" data-label="1. ê¸°ë³¸ ì¢…ëª© í’€ - 0ì¢…ëª©">
      <div class="list-item-inner">1. ê¸°ë³¸ ì¢…ëª© í’€ - <span class="sub">0ì¢…ëª©</span></div>
    </div>

    <div class="list-item" draggable="true" data-label="2. í•˜ì´ë¦¬ìŠ¤í¬Â·í•˜ì´ë¦¬í„´ ì „ë¬¸ê°€í˜• - 100ì¢…ëª©">
      <div class="list-item-inner">2. í•˜ì´ë¦¬ìŠ¤í¬Â·í•˜ì´ë¦¬í„´ ì „ë¬¸ê°€í˜• - <span class="sub">100ì¢…ëª©</span></div>
    </div>

    <div class="list-item" draggable="true" data-label="3. í”„ë¡œ íˆ¬ììì‹ ì¥ê¸° ë² íŒ… - 100ì¢…ëª©">
      <div class="list-item-inner">3. í”„ë¡œ íˆ¬ììì‹ ì¥ê¸° ë² íŒ… - <span class="sub">100ì¢…ëª©</span></div>
    </div>

    <div class="list-item" draggable="true" data-label="4. ê³µê²©ì  ì„±ì¥ ì¶”êµ¬í˜• ë§¤ë‹ˆì € - 100ì¢…ëª©">
      <div class="list-item-inner">4. ê³µê²©ì  ì„±ì¥ ì¶”êµ¬í˜• ë§¤ë‹ˆì € - <span class="sub">100ì¢…ëª©</span></div>
    </div>

    <div class="list-item" draggable="true" data-label="5. ê³ ë³€ë™ì„± ì¥ê¸° ìˆ˜ìµ í¬ì»¤ìŠ¤ - 100ì¢…ëª©">
      <div class="list-item-inner">5. ê³ ë³€ë™ì„± ì¥ê¸° ìˆ˜ìµ í¬ì»¤ìŠ¤ - <span class="sub">100ì¢…ëª©</span></div>
    </div>

    <div class="list-item" draggable="true" data-label="6. ë¦¬ìŠ¤í¬ ê°ë‚´ ê¸°ë°˜ ì´ˆì¥ê¸° ì„±ì¥ ì „ëµí˜• - 100ì¢…ëª©">
      <div class="list-item-inner">6. ë¦¬ìŠ¤í¬ ê°ë‚´ ê¸°ë°˜ ì´ˆì¥ê¸° ì„±ì¥ ì „ëµí˜• - <span class="sub">100ì¢…ëª©</span></div>
    </div>

    <div class="list-item selected" draggable="true" data-label="7. ì˜¬í•´ ì•ˆì— ìˆ˜ìµ ì‹¤í˜„ ê°€ëŠ¥í•œ ì—°ë§ ìœ ë§ì¢…ëª© ëª¨ìŒ ê·¸ë£¹í˜• - 100ì¢…ëª©">
      <div class="list-item-inner">7. ì˜¬í•´ ì•ˆì— ìˆ˜ìµ ì‹¤í˜„ ê°€ëŠ¥í•œ ì—°ë§ ìœ ë§ì¢…ëª© ëª¨ìŒ ê·¸ë£¹í˜• - <span class="sub">100ì¢…ëª©</span></div>
    </div>

    <div class="list-item" draggable="true" data-label="8. ì „ë¬¸ì ìœ¼ë¡œ íˆ¬ìí•˜ê³  ìˆëŠ” ë¦¬ìŠ¤í¬ ì¥ê¸° ê°ìˆ˜í˜• - 100ì¢…ëª©">
      <div class="list-item-inner">8. ì „ë¬¸ì ìœ¼ë¡œ íˆ¬ìí•˜ê³  ìˆëŠ” ë¦¬ìŠ¤í¬ ì¥ê¸° ê°ìˆ˜í˜• - <span class="sub">100ì¢…ëª©</span></div>
    </div>

    <div class="list-item" draggable="true" data-label="9. ìµœì†Œíˆ¬ì - 0ì¢…ëª©">
      <div class="list-item-inner">9. ìµœì†Œíˆ¬ì - <span class="sub">0ì¢…ëª©</span></div>
    </div>

    <div class="list-item" draggable="true" data-label="10. ì „ë¬¸ì ìœ¼ë¡œ íˆ¬ìí•˜ê³  ìˆëŠ” ë¦¬ìŠ¤í¬ ì¥ê¸° ê°ìˆ˜í˜•ì˜ í…ìŠ¤íŠ¸ê°€ ìµœëŒ€ë¡œ ê¸¸ì–´ì§ˆ ê²½ìš° ëŒ€ë¹„í•˜ëŠ” ë§ì¤„ì„í‘œ í…ŒìŠ¤íŠ¸..... - 99999ì¢…ëª©">
      <div class="list-item-inner">
        10. ì „ë¬¸ì ìœ¼ë¡œ íˆ¬ìí•˜ê³  ìˆëŠ” ë¦¬ìŠ¤í¬ ì¥ê¸° ê°ìˆ˜í˜•ì˜ í…ìŠ¤íŠ¸ê°€ ìµœëŒ€ë¡œ ê¸¸ì–´ì§ˆ ê²½ìš° ëŒ€ë¹„í•˜ëŠ” ë§ì¤„ì„í‘œ í…ŒìŠ¤íŠ¸..... -
        <span class="sub">99999ì¢…ëª©</span>
      </div>
    </div>

  </div>

  <div class="footer">
    <div><b>ì „ì²´ í’€ :</b><span class="value">10</span></div>
    <div><b>ì „ì²´ ì¢…ëª© :</b><span class="value">10000</span></div>
  </div>

</div>

<script>
const toggle = document.getElementById("toggle");
const list = document.getElementById("list");
const arrow = document.getElementById("arrow");
const selectedText = document.getElementById("selectedText");

toggle.onclick = () => {
  list.classList.toggle("open");
  arrow.classList.toggle("open");
};

let dragged = null;

const items = () => Array.from(document.querySelectorAll('.list-item'));

items().forEach(item => {
  // ë“œë˜ê·¸ ì‹œì‘
  item.addEventListener('dragstart', () => {
    dragged = item;
    item.classList.add('dragging');
  });

  // ë“œë˜ê·¸ ë
  item.addEventListener('dragend', () => {
    item.classList.remove('dragging');
    dragged = null;
    items().forEach(i => i.classList.remove('drop-target'));
  });

  // ë“œë¡­ ìœ„ì¹˜ ê°€ì´ë“œ
  item.addEventListener('dragover', e => {
    e.preventDefault();
    items().forEach(i => i.classList.remove('drop-target'));
    item.classList.add('drop-target');
  });

  item.addEventListener('dragleave', () => {
    item.classList.remove('drop-target');
  });

  // ì‹¤ì œ ë“œë¡­
  item.addEventListener('drop', e => {
    e.preventDefault();
    item.classList.remove('drop-target');

    if (!dragged || dragged === item) return;

    const rect = item.getBoundingClientRect();
    const isBefore = e.clientY < rect.top + rect.height / 2;

    if (isBefore) {
      item.before(dragged);
    } else {
      item.after(dragged);
    }
  });

  // í´ë¦­ ì‹œ ì„ íƒê°’ ë³€ê²½
  item.addEventListener('click', () => {
    items().forEach(i => i.classList.remove('selected'));
    item.classList.add('selected');
    selectedText.textContent = item.dataset.label;
  });
});
</script>

</body>
</html>

